pipeline {

    agent any
 
    stages {

        stage('Checkout Code') {

            steps {

                git branch: 'main', url: 'https://github.com/Ritesh-Dhumne-incredo/cicd.git'

            }

        }
 
        stage('Install Dependencies') {

            steps {

                sh 'pip install -r requirements.txt'

            }

        }
 
        stage('Run Tests') {

            steps {

                sh 'pytest --maxfail=1 --disable-warnings -q'

            }

        }
 
        stage('Build/Package (Optional)') {

            steps {

                sh 'echo "Build successful. Ready for deployment!"'

            }

        }

    }

}


 
